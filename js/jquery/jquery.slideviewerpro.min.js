jQuery.extend(jQuery.easing,{easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a}});jQuery(function(){jQuery("div.svwp").prepend("<img src='skin/frontend/base/hgp/images/svwloader.gif' class='ldrgif' width='220' height='19' alt='loading...'/ >")});var j=0;jQuery.fn.slideViewerPro=function(a){a=jQuery.extend({galBorderWidth:6,thumbsTopMargin:3,thumbsRightMargin:3,thumbsBorderWidth:3,buttonsWidth:20,galBorderColor:"#ff0000",thumbsBorderColor:"#d8d8d8",thumbsActiveBorderColor:"#ff0000",buttonsTextColor:"#ff0000",thumbsBorderOpacity:1,thumbsActiveBorderOpacity:1,easeTime:750,asTimer:4000,thumbs:5,thumbsPercentReduction:12,thumbsVis:true,easeFunc:"easeInOutExpo",leftButtonInner:"",rightButtonInner:"",autoslide:false,typo:false,typoFullOpacity:0.9,shuffle:false},a);return this.each(function(){function g(n){var q=n.size();while(--q){var o=Math.floor(Math.random()*(q));var p=n.slice(q,q+1);n.slice(o,o+1).insertAfter(p)}}var b=jQuery(this);(!a.shuffle)?null:g(b.find("li"));b.find("img.ldrgif").remove();b.removeClass("svwp").addClass("slideViewer");b.attr("id","svwp"+j);var m=b.find("img").attr("width");var h=b.find("img").attr("height");var d=b.find("li").size();(d>=a.thumbs)?null:a.thumbs=d;var e=m*d;var k=Math.round(m*a.thumbsPercentReduction/100);var f=Math.round(h*a.thumbsPercentReduction/100);var i=0;var l=true;var c=true;b.find("ul").css("width",e).wrap(jQuery("<div style='width:"+m+"px; overflow: hidden; position: relative; top: 0; left: 0'>"));b.css("width",m);b.css("height",h);b.each(function(s){if(a.typo){jQuery(this).find("img").each(function(x){jQuery(this).after("<span class='typo' style='position: absolute; width:"+(m-12)+"px; margin: 0 0 0 -"+m+"px'>"+jQuery(this).attr("alt")+"</span>")})}jQuery(this).after("<div class='thumbSlider' id='thumbSlider"+j+"'><ul></ul></div>");jQuery(this).next().after("<a href='#' class='left' id='left"+j+"'><span>"+a.leftButtonInner+"</span></a><a href='#' class='right' id='right"+j+"'><span>"+a.rightButtonInner+"</span></a>");jQuery(this).find("li").each(function(x){jQuery("div#thumbSlider"+j+" ul").append("<li><a title='"+jQuery(this).find("img").attr("alt")+"' href='#'><img width='"+k+"' height='"+f+"' src='"+jQuery(this).find("img").attr("src")+"' /><p class='tmbrdr'>&nbsp;</p></a></li>")});jQuery("div#thumbSlider"+j+" a").each(function(x){jQuery(this).bind("click",function(){jQuery(this).find("p.tmbrdr").css({borderColor:a.thumbsActiveBorderColor,opacity:a.thumbsActiveBorderOpacity});jQuery(this).parent().parent().find("p.tmbrdr").not(jQuery(this).find("p.tmbrdr")).css({borderColor:a.thumbsBorderColor,opacity:a.thumbsBorderOpacity});var y=-(m*x);(y!=b.find("ul").css("left").replace(/px/,""))?b.find("span.typo").animate({opacity:0},250):null;b.find("ul").animate({left:y},a.easeTime,a.easeFunc,function(){b.find("span.typo").animate({opacity:a.typoFullOpacity},250)});return false})});var u=jQuery("a#left"+j);var r=jQuery("a#right"+j);r.bind("click",function(){if(l){(d-i>a.thumbs*2||d%a.thumbs==0)?i+=a.thumbs:i+=d%a.thumbs}l=false;jQuery(this).prev().prev().find("ul:not(:animated)").animate({left:-(k+a.thumbsRightMargin)*i},500,a.easeFunc,function(){v()});return false});u.bind("click",function(){if(c&&i!=0){(d-i>a.thumbs||d%a.thumbs==0)?i-=a.thumbs:i-=d%a.thumbs}c=false;jQuery(this).prev().find("ul:not(:animated)").animate({left:-(k+a.thumbsRightMargin)*i},500,a.easeFunc,function(){v()});return false});function v(){(i==d-a.thumbs)?r.addClass("r_dis"):r.removeClass("r_dis");(i==d-a.thumbs)?l=false:l=true;(i==0)?u.addClass("l_dis"):u.removeClass("l_dis");(i==0)?c=false:c=true}var p=a.thumbsBorderWidth;var q=a.galBorderWidth;jQuery(".slideViewer a img").css({border:"0"});if(a.typo){jQuery(this).find("span.typo").each(function(x){jQuery(this).css({marginTop:(h-jQuery(this).innerHeight()),opacity:a.typoFullOpacity})})}jQuery("div#svwp"+j).css({border:a.galBorderWidth+"px solid "+a.galBorderColor});jQuery("div#thumbSlider"+j).css({position:"relative",left:q,top:a.thumbsTopMargin+"px",width:a.thumbs*k+((a.thumbsRightMargin*a.thumbs)-a.thumbsRightMargin),height:f,textAlign:"center",overflow:"hidden",margin:"0 auto"});jQuery("div#thumbSlider"+j+" ul").css({width:(k*d)+a.thumbsRightMargin*d,position:"relative",left:"0",top:"0"});jQuery("div#thumbSlider"+j+" ul li").css({marginRight:a.thumbsRightMargin});jQuery("div#thumbSlider"+j).find("p.tmbrdr").css({width:(k-p*2)+"px",height:(f-p*2)+"px",top:-(f)+"px",border:a.thumbsBorderWidth+"px solid "+a.thumbsBorderColor,opacity:a.thumbsBorderOpacity});jQuery("div#thumbSlider"+j+" a:first p.tmbrdr").css({borderColor:a.thumbsActiveBorderColor,opacity:a.thumbsActiveBorderOpacity});var w=(m/2)+(jQuery("div#thumbSlider"+j).width()/2)+a.thumbsRightMargin+q;var t=(m/2)-(jQuery("div#thumbSlider"+j).width()/2)-(a.buttonsWidth+a.thumbsRightMargin)+q;var n=jQuery("a#right"+j+" span img").attr("height");jQuery("a#left"+j).css({display:"block",textAlign:"center",width:a.buttonsWidth+"px",height:f+"px",margin:-(f-a.thumbsTopMargin)+"px 0 0 "+t+"px",textDecoration:"none",lineHeight:f+"px",color:a.buttonsTextColor});jQuery("a#right"+j).css({display:"block",textAlign:"center",width:a.buttonsWidth+"px",height:f+"px",margin:-(f)+"px 0 0 "+w+"px",textDecoration:"none",lineHeight:f+"px",color:a.buttonsTextColor});jQuery("a#left"+j+" span img").css({margin:Math.round((f/2)-(n/2))+"px 0 0 0"});jQuery("a#right"+j+" span img").css({margin:Math.round((f/2)-(n/2))+"px 0 0 0"});v();if(a.autoslide){var s=1;jQuery("div#thumbSlider"+j).everyTime(a.asTimer,"asld",function(){jQuery(this).find("a").eq(s).trigger("click");if(s==0){i=0;c=false;jQuery("div#thumbSlider"+j).find("ul:not(:animated)").animate({left:-(k+a.thumbsRightMargin)*i},500,a.easeFunc,function(){v()})}else{c=true}(s%a.thumbs==0)?jQuery(this).next().next().trigger("click"):null;(s<d-1)?s++:s=0});jQuery("a#right"+j).bind("mouseup",function(){jQuery(this).prev().prev().stopTime("asld")});jQuery("a#left"+j).bind("mouseup",function(){jQuery(this).prev().stopTime("asld")});jQuery("div#thumbSlider"+j+" a").bind("mouseup",function(){jQuery(this).parent().parent().parent().stopTime("asld")})}var o=(a.thumbsVis)?"block":"none";jQuery("div#thumbSlider"+j+", a#left"+j+", a#right"+j).wrapAll("<div style='width:"+m+"px; display: "+o+"' id='ui"+j+"'></div>");jQuery("div#svwp"+j+", div#ui"+j).wrapAll("<div style='width:"+m+"px'></div>")});(jQuery("div#thumbSlider"+j).width()+(a.buttonsWidth*2)>=m)?alert("ALERT: THE THUMBNAILS SLIDER IS TOO WIDE! \nthumbsPercentReduction and/or buttonsWidth needs to be scaled down!"):null;j++})};